"use strict"; function drinkCoffee() { document.getElementById("coffee-note").classList.add("strike") } window.addEventListener("resize", function () { var e = .01 * window.innerHeight; document.documentElement.style.setProperty("--vh", "".concat(e, "px")) }); var slideIndex = 0; function showSlides() { var e, t = document.getElementsByClassName("mySlides"); for (e = 0; e < t.length; e++)t[e].style.display = "none"; ++slideIndex > t.length && (slideIndex = 1), t[slideIndex - 1].style.display = "flex", setTimeout(showSlides, 8e3) } showSlides(); var appKey = "6a42348f3f2db5f744296408f0807ef2", weatherUnit = "&units=metric", weatherLocation = "London", temperature = document.getElementById("weather-temp"), weatherSlide = document.getElementById("weather-slide"), weatherCond = document.getElementById("weather-cond"), api = "https://api.openweathermap.org/data/2.5/weather?q=" + weatherLocation + "&appid=" + appKey + weatherUnit, userTime = (new Date).getTime(), getUserTime = localStorage.getItem("userTime"); function findWeatherDetails() { httpRequestAsync(api, theResponse) } function theResponse(e) { var t = JSON.parse(e); temperature.innerHTML = parseInt(t.main.temp) + "Â°", weatherCond.innerHTML = t.weather[0].main, 200 <= t.weather[0].id && t.weather[0].id <= 232 ? weatherSlide.style.background = "radial-gradient(at 153px 13px, rgb(242, 242, 242) 0%, rgb(162, 115, 0) 100%)" : 300 <= t.weather[0].id && t.weather[0].id <= 531 ? weatherSlide.style.background = "radial-gradient(at 153px 13px, rgb(2, 46, 71) 0%, rgb(122, 122, 122) 100%)" : 600 <= t.weather[0].id && t.weather[0].id <= 622 ? weatherSlide.style.background = "radial-gradient(at 153px 13px, rgb(255, 255, 255) 0%, rgb(122, 122, 122) 100%)" : 701 <= t.weather[0].id && t.weather[0].id <= 781 ? weatherSlide.style.background = "radial-gradient(at 153px 13px, rgb(143, 143, 143) 0%, rgb(65, 65, 65) 100%)" : t.weather[0].id && 800 === t.weather[0].id ? weatherSlide.style.background = "radial-gradient(farthest-corner at 153px 13px, #fff 0%, #338fee 100%)" : 801 <= t.weather[0].id && t.weather[0].id <= 804 ? weatherSlide.style.background = "radial-gradient(at 153px 13px, rgb(255, 255, 255) 0%, rgb(63, 63, 63) 100%)" : console.log("Error") } function httpRequestAsync(e, t) { var n = new XMLHttpRequest; n.onreadystatechange = function () { 4 == n.readyState && 200 == n.status && t(n.responseText) }, n.open("GET", e, !0), n.send() } !getUserTime || userTime > Number(getUserTime) + 36e5 ? (userTime = (new Date).getTime(), localStorage.setItem("userTime", userTime), findWeatherDetails(), setTimeout(function () { localStorage.setItem("weatherBg", weatherSlide.style.background), localStorage.setItem("weatherCond", weatherCond.innerText), localStorage.setItem("weatherTemp", temperature.innerText) }, 3e3)) : (weatherCond.innerText = localStorage.getItem("weatherCond"), weatherSlide.style.background = localStorage.getItem("weatherBg"), temperature.innerText = localStorage.getItem("weatherTemp"), console.log(Math.trunc((36e5 - (userTime - Number(getUserTime))) / 6e4) + " minute(s) until next weather update.")); var date = new Date, day = date.getDate(), hubBg = document.getElementById("hub-bg"), hour = date.getHours(), welcomeText = document.getElementById("welcome-text"); document.getElementById("day").innerHTML = day, welcomeText.innerHTML = hour >= 5 && hour <= 11 ? "Good morning" : hour >= 12 && hour <= 17 ? "Good afternoon" : hour >= 18 && hour <= 20 ? "Good evening" : "Good night", hubBg.src = hour >= 5 && hour <= 17 ? "./img/hub-day.png" : "./img/hub-night.png"; var screenCache, typed, typedString, typedStartDelay, timeout, largeScreen = document.getElementById("large-screen"), prependTyped = document.getElementById("prepend-typed"), backButton = document.getElementById("back-button"), extendables = document.getElementsByClassName("extendable"); function openScreen(e) { if (extend(), document.getElementById("folders").style.display = "none", "projects" === e ? timeout = 3900 : "main" === e ? timeout = 0 : "about" === e ? timeout = 3700 : "skills" === e ? timeout = 3800 : "contact" === e && (timeout = 3900), "main" === e) prependTyped.innerHTML = "https://ashley.how"; else if ("main" === screenCache && "main" !== e || window.matchMedia("(max-width: 991px)").matches || window.matchMedia("(orientation: portrait)").matches) { timeout -= 3100, typedString = "/".concat(e), typedStartDelay = 0; var t = new Typed("#typed", { strings: [typedString], typeSpeed: 50, showCursor: !1, startDelay: typedStartDelay }) } else { typedString = "https://ashley.how/".concat(e), typedStartDelay = window.matchMedia("(max-width: 991px)").matches ? 0 : 2e3; t = new Typed("#typed", { strings: [typedString], typeSpeed: 50, showCursor: !1, startDelay: typedStartDelay }) } setTimeout(function () { "main" === e ? (screenCache.style.display = "none", document.getElementById("folders").style.display = "flex", prependTyped.innerHTML = "https://ashley.how", backButton.style.display = "none", screenCache = "main") : (t.destroy(), document.getElementById("folders").style.display = "none", document.getElementById("screen-".concat(e)).style.display = "block", prependTyped.innerHTML = "https://ashley.how/".concat(e), screenCache = document.getElementById("screen-".concat(e)), backButton.style.display = "flex") }, timeout) } function minimise() { shrink(), document.getElementById("minimised").style.display = "flex", document.getElementById(screenCache.id).style.display = "none" } function maximise() { extend(), document.getElementById("minimised").style.display = "none", document.getElementById(screenCache.id).style.display = "block" } function closeScreen() { shrink(), document.getElementById(screenCache.id).style.display = "none", document.getElementById("folders").style.display = "flex", prependTyped.innerHTML = "" } function extend() { var e; if (!window.matchMedia("(max-width: 992px)").matches && window.matchMedia("(orientation: landscape)").matches) for (e = 0; e < extendables.length; e++)extendables[e].classList.add("extended") } function shrink() { var e; for (e = 0; e < extendables.length; e++)extendables[e].classList.remove("extended") } (window.matchMedia("(max-width: 991px)").matches || window.matchMedia("(orientation: portrait)").matches) && (prependTyped.innerHTML = "https://ashley.how");